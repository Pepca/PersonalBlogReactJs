(self.webpackChunk=self.webpackChunk||[]).push([[802],{3802:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return _}});var c=r(7294),s=(r(1249),r(9588)),n=r(1309),l=r(5893);function i(){return(0,l.jsx)(l.Fragment,{children:0<s.d8.length&&(0,l.jsx)("div",{className:"stories",children:(0,l.jsx)("ul",{className:"stories__list",children:s.d8.map(function(t){return(0,l.jsxs)("li",{className:"stories__item item-stories",children:[(0,l.jsx)("h1",{className:"item-stories__title",children:t.title}),(0,l.jsx)("div",{className:"item-stories__img",children:(0,l.jsx)("img",{src:t.img.src,alt:t.img.alt})}),(0,l.jsx)("time",{className:"item-stories__date",dateTime:(0,n.iI)(t.dateTime),children:t.dateTime})]},t.id)})})})})}r(2526),r(1817),r(1539),r(2165),r(6992),r(8783),r(3948),r(7042),r(8309),r(1038);var d=r.p+"images/e730abc92d0fff4f7133d4467221541f.svg",u=r.p+"images/807739bf6b244c36f7a10baca1da3514.svg";function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=r){var s,n,i=[],a=!0,o=!1;try{for(r=r.call(t);!(a=(s=r.next()).done)&&(i.push(s.value),!e||i.length!==e);a=!0);}catch(t){o=!0,n=t}finally{try{a||null==r.return||r.return()}finally{if(o)throw n}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function o(){function t(){i(function(){return 70+(window.innerWidth-320)/1600*25})}function e(t){t.target.closest(".addpost-form")||""!==(null===(t=r.current)||void 0===t?void 0:t.value)||o(function(){return!1})}var r=c.useRef(null),s=m(c.useState(70+(window.innerWidth-320)/1600*25),2),n=s[0],i=s[1],a=m(c.useState(!1),2),s=a[0],o=a[1];return c.useEffect(function(){return document.addEventListener("click",e),window.addEventListener("resize",t),function(){document.removeEventListener("click",e),window.removeEventListener("resize",t)}},[]),(0,l.jsxs)("form",{action:"/",className:"addpost-form".concat(s?" _focused":""),method:"post",encType:"multipart/form-data",onSubmit:function(t){t.preventDefault()},children:[(0,l.jsx)("div",{className:"addpost-form__textarea",children:(0,l.jsx)("textarea",{name:"decription-post",className:"textarea-addpost",placeholder:"Напишите что-нибудь",ref:r,onChange:function(t){(t=t).target.style.height="".concat(n,"px"),t.target.style.height="".concat(t.target.scrollHeight,"px")},onFocus:function(){return o(function(){return!0})},style:{height:"".concat(n,"px")}})}),(0,l.jsx)("input",{name:"file-loader-addpost",id:"addpost-fileloader",type:"file",className:"adddpost-from__input input-fileloader-addpost"}),(0,l.jsxs)("div",{className:"addpost-form__buttons buttons-addpost",children:[(0,l.jsx)("div",{className:"buttons-addpost__item",children:(0,l.jsx)("label",{htmlFor:"addpost-fileloader",className:"buttons-addpost__btn btn-fileloader",children:(0,l.jsx)("img",{src:d,alt:"camera loader"})})}),(0,l.jsx)("div",{className:"buttons-addpost__item",children:(0,l.jsx)("button",{className:"buttons-addpost__btn btn-send",type:"submit",children:(0,l.jsx)("img",{src:u,alt:"send post"})})})]})]})}r(7941),r(7327),r(5003),r(4747),r(9337);var p=r(3727),f=r(5315);function h(e,t){var r,s=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)),s}function j(s){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var e,r;e=s,t=n[r=t],r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(s,t,Object.getOwnPropertyDescriptor(n,t))})}return s}function x(){var t=c.useContext(f._),e=t.state,r=t.dispatch;return(0,l.jsx)(l.Fragment,{children:0<s.PU.length&&(0,l.jsx)("div",{className:"posts",children:(0,l.jsx)("div",{className:"posts__inner",children:s.PU.map(function(t){return(0,l.jsxs)("div",{className:"post",children:[""!==t.media.src&&(0,l.jsx)(p.OL,{to:"/post".concat(t.id),children:(0,l.jsx)("div",{className:"post__head",children:(0,l.jsx)("div",{className:"post__picture",children:(0,l.jsx)("img",{src:t.media.alt?t.media.src:t.media.poster,alt:t.media.alt||t.media.poster})})})}),(0,l.jsxs)("div",{className:"post__body",children:[(0,l.jsxs)("div",{className:"post__description description-post",children:[""!==t.title&&(0,l.jsx)("h1",{className:"description-post__title primary-title",children:t.title}),""!==t.text&&(0,l.jsx)("p",{className:"description-post__text primary-text",children:t.text})]}),(0,l.jsxs)("div",{className:"post__control control-post",children:[(0,l.jsxs)("div",{className:"control-post__info info-control-post",children:[(0,l.jsx)("time",{className:"info-control-post__date primary-time",dateTime:(0,n.iI)(t.dateTime),children:t.dateTime}),""!==t.tag&&(0,l.jsx)(p.OL,{to:"/search",onClick:function(t){return r.setSearchState(j(j({},e.searchState),{},{searchValue:t.target.text}))},className:"info-control-post__tag",children:t.tag.toLowerCase()})]}),""!==t.title&&""!==t.tag&&(0,l.jsx)(p.OL,{to:"/post".concat(t.id),className:"control-post__link",children:"читать"})]})]})]},t.id)})})})})}function _(){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("section",{className:"home",children:(0,l.jsxs)("div",{className:"home__inner",children:[(0,l.jsx)(i,{}),(0,l.jsx)(o,{}),(0,l.jsx)(x,{})]})})})}}}]);